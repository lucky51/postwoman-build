ace.define("ace/ext/whitespace",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var r=e("../lib/lang");t.$detectIndentation=function(e,t){for(var n=[],r=[],o=0,c=0,l=Math.min(e.length,1e3),i=0;i<l;i++){var line=e[i];if(/^\s*[^*+\-\s]/.test(line)){if("\t"==line[0])o++,c=-Number.MAX_VALUE;else{var h=line.match(/^ */)[0].length;if(h&&"\t"!=line[h]){var f=h-c;!(f>0)||c%f||h%f||(r[f]=(r[f]||0)+1),n[h]=(n[h]||0)+1}c=h}for(;i<l&&"\\"==line[line.length-1];)line=e[i++]}}function d(e){for(var t=0,i=e;i<n.length;i+=e)t+=n[i]||0;return t}var v=r.reduce((function(a,b){return a+b}),0),m={score:0,length:0},S=0;for(i=1;i<12;i++){var I=d(i);1==i?(S=I,I=n[1]?.9:.8,n.length||(I=0)):I/=S,r[i]&&(I+=r[i]/v),I>m.score&&(m={score:I,length:i})}if(m.score&&m.score>1.4)var T=m.length;return o>S+1?((1==T||S<o/4||m.score<1.8)&&(T=void 0),{ch:"\t",length:T}):S>o+1?{ch:" ",length:T}:void 0},t.detectIndentation=function(e){var n=e.getLines(0,1e3),r=t.$detectIndentation(n)||{};return r.ch&&e.setUseSoftTabs(" "==r.ch),r.length&&e.setTabSize(r.length),r},t.trimTrailingSpace=function(e,t){var n=e.getDocument(),r=n.getAllLines(),o=t&&t.trimEmpty?-1:0,c=[],l=-1;t&&t.keepCursorPosition&&(e.selection.rangeCount?e.selection.rangeList.ranges.forEach((function(e,i,t){var n=t[i+1];n&&n.cursor.row==e.cursor.row||c.push(e.cursor)})):c.push(e.selection.getCursor()),l=0);for(var h=c[l]&&c[l].row,i=0,f=r.length;i<f;i++){var line=r[i],d=line.search(/\s+$/);i==h&&(d<c[l].column&&d>o&&(d=c[l].column),l++,h=c[l]?c[l].row:-1),d>o&&n.removeInLine(i,d,line.length)}},t.convertIndentation=function(e,t,n){var o=e.getTabString()[0],c=e.getTabSize();n||(n=c),t||(t=o);for(var l="\t"==t?t:r.stringRepeat(t,n),h=e.doc,f=h.getAllLines(),d={},v={},i=0,m=f.length;i<m;i++){var S=f[i].match(/^\s*/)[0];if(S){var I=e.$getStringScreenWidth(S)[0],T=Math.floor(I/c),x=I%c,A=d[T]||(d[T]=r.stringRepeat(l,T));(A+=v[x]||(v[x]=r.stringRepeat(" ",x)))!=S&&(h.removeInLine(i,0,S.length),h.insertInLine({row:i,column:0},A))}}e.setTabSize(n),e.setUseSoftTabs(" "==t)},t.$parseStringArg=function(text){var e={};/t/.test(text)?e.ch="\t":/s/.test(text)&&(e.ch=" ");var t=text.match(/\d+/);return t&&(e.length=parseInt(t[0],10)),e},t.$parseArg=function(e){return e?"string"==typeof e?t.$parseStringArg(e):"string"==typeof e.text?t.$parseStringArg(e.text):e:{}},t.commands=[{name:"detectIndentation",description:"Detect indentation from content",exec:function(e){t.detectIndentation(e.session)}},{name:"trimTrailingSpace",description:"Trim trailing whitespace",exec:function(e,n){t.trimTrailingSpace(e.session,n)}},{name:"convertIndentation",description:"Convert indentation to ...",exec:function(e,n){var r=t.$parseArg(n);t.convertIndentation(e.session,r.ch,r.length)}},{name:"setIndentation",description:"Set indentation",exec:function(e,n){var r=t.$parseArg(n);r.length&&e.session.setTabSize(r.length),r.ch&&e.session.setUseSoftTabs(" "==r.ch)}}]})),ace.require(["ace/ext/whitespace"],(function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)}));