ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,l=function(e){var t="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===l&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(o.prototype),r.inherits(l,o),t.XmlHighlightRules=l})),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),o=e("../behaviour").Behaviour,l=e("../../token_iterator").TokenIterator;e("../../lib/lang");function c(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}var m=function(){this.add("string_dquotes","insertion",(function(e,t,n,r,text){if('"'==text||"'"==text){var o=text,m=r.doc.getTextRange(n.getSelectionRange());if(""!==m&&"'"!==m&&'"'!=m&&n.getWrapBehavioursEnabled())return{text:o+m+o,selection:!1};var cursor=n.getCursorPosition(),d=r.doc.getLine(cursor.row).substring(cursor.column,cursor.column+1),x=new l(r,cursor.row,cursor.column),h=x.getCurrentToken();if(d==o&&(c(h,"attribute-value")||c(h,"string")))return{text:"",selection:[1,1]};if(h||(h=x.stepBackward()),!h)return;for(;c(h,"tag-whitespace")||c(h,"whitespace");)h=x.stepBackward();var f=!d||d.match(/\s/);if(c(h,"attribute-equals")&&(f||">"==d)||c(h,"decl-attribute-equals")&&(f||"?"==d))return{text:o+o,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,o){var l=r.doc.getTextRange(o);if(!o.isMultiLine()&&('"'==l||"'"==l)&&r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)==l)return o.end.column++,o})),this.add("autoclosing","insertion",(function(e,t,n,r,text){if(">"==text){var o=n.getSelectionRange().start,m=new l(r,o.row,o.column),d=m.getCurrentToken()||m.stepBackward();if(!d||!(c(d,"tag-name")||c(d,"tag-whitespace")||c(d,"attribute-name")||c(d,"attribute-equals")||c(d,"attribute-value")))return;if(c(d,"reference.attribute-value"))return;if(c(d,"attribute-value")){var x=m.getCurrentTokenColumn()+d.value.length;if(o.column<x)return;if(o.column==x){var h=m.stepForward();if(h&&c(h,"attribute-value"))return;m.stepBackward()}}if(/^\s*>/.test(r.getLine(o.row).slice(o.column)))return;for(;!c(d,"tag-name");)if("<"==(d=m.stepBackward()).value){d=m.stepForward();break}var f=m.getCurrentTokenRow(),k=m.getCurrentTokenColumn();if(c(m.stepBackward(),"end-tag-open"))return;var element=d.value;if(f==o.row&&(element=element.substring(0,o.column-k)),this.voidElements.hasOwnProperty(element.toLowerCase()))return;return{text:"></"+element+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,n,r,text){if("\n"==text){var cursor=n.getCursorPosition(),line=r.getLine(cursor.row),o=new l(r,cursor.row,cursor.column),c=o.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=o.stepBackward();if(!c)return;var m=c.value,d=o.getCurrentTokenRow();if(!(c=o.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[m]){var x=r.getTokenAt(cursor.row,cursor.column+1),h=(line=r.getLine(d),this.$getIndent(line)),f=h+r.getTabString();return x&&"</"===x.value?{text:"\n"+f+"\n"+h,selection:[1,f.length,1,f.length]}:{text:"\n"+f}}}}}))};r.inherits(m,o),t.XmlBehaviour=m})),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),o=(e("../../lib/lang"),e("../../range").Range),l=e("./fold_mode").FoldMode,c=e("../../token_iterator").TokenIterator,m=t.FoldMode=function(e,t){l.call(this),this.voidElements=e||{},this.optionalEndTags=r.mixin({},this.voidElements),t&&r.mixin(this.optionalEndTags,t)};r.inherits(m,l);var d=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function x(e,t){return e.type.lastIndexOf(t+".xml")>-1}(function(){this.getFoldWidget=function(e,t,n){var r=this._getFirstTagInLine(e,n);return r?r.closing||!r.tagName&&r.selfClosing?"markbeginend"==t?"end":"":!r.tagName||r.selfClosing||this.voidElements.hasOwnProperty(r.tagName.toLowerCase())||this._findEndTagInLine(e,n,r.tagName,r.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),r=new d,i=0;i<n.length;i++){var o=n[i];if(x(o,"tag-open")){if(r.end.column=r.start.column+o.value.length,r.closing=x(o,"end-tag-open"),!(o=n[++i]))return null;for(r.tagName=o.value,r.end.column+=o.value.length,i++;i<n.length;i++)if(o=n[i],r.end.column+=o.value.length,x(o,"tag-close")){r.selfClosing="/>"==o.value;break}return r}if(x(o,"tag-close"))return r.selfClosing="/>"==o.value,r;r.start.column+=o.value.length}return null},this._findEndTagInLine=function(e,t,n,r){for(var o=e.getTokens(t),l=0,i=0;i<o.length;i++){var c=o[i];if(!((l+=c.value.length)<r)&&x(c,"end-tag-open")&&(c=o[i+1])&&c.value==n)return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new d;do{if(x(t,"tag-open"))n.closing=x(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn();else if(x(t,"tag-name"))n.tagName=t.value;else if(x(t,"tag-close"))return n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),n}while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new d;do{if(x(t,"tag-open"))return n.closing=x(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn(),e.stepBackward(),n;x(t,"tag-name")?n.tagName=t.value:x(t,"tag-close")&&(n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(t&&n.tagName!=t.tagName){if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,n){var r=this._getFirstTagInLine(e,n);if(!r)return this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length);var l,m=[];if(r.closing||r.selfClosing){x=new c(e,n,r.end.column);for(var d={row:n,column:r.start.column};l=this._readTagBackward(x);){if(l.selfClosing){if(m.length)continue;return l.start.column+=l.tagName.length+2,l.end.column-=2,o.fromPoints(l.start,l.end)}if(l.closing)m.push(l);else if(this._pop(m,l),0==m.length)return l.start.column+=l.tagName.length+2,l.start.row==l.end.row&&l.start.column<l.end.column&&(l.start.column=l.end.column),o.fromPoints(l.start,d)}}else{var x=new c(e,n,r.start.column),h={row:n,column:r.start.column+r.tagName.length+2};for(r.start.row==r.end.row&&(h.column=r.end.column);l=this._readTagForward(x);){if(l.selfClosing){if(m.length)continue;return l.start.column+=l.tagName.length+2,l.end.column-=2,o.fromPoints(l.start,l.end)}if(l.closing){if(this._pop(m,l),0==m.length)return o.fromPoints(h,l.start)}else m.push(l)}}}}).call(m.prototype)})),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],(function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../lib/lang"),l=e("./text").Mode,c=e("./xml_highlight_rules").XmlHighlightRules,m=e("./behaviour/xml").XmlBehaviour,d=e("./folding/xml").FoldMode,x=e("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=c,this.$behaviour=new m,this.foldingRules=new d};r.inherits(h,l),function(){this.voidElements=o.arrayToMap([]),this.blockComment={start:"\x3c!--",end:"--\x3e"},this.createWorker=function(e){var t=new x(["ace"],"ace/mode/xml_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/xml"}.call(h.prototype),t.Mode=h})),ace.require(["ace/mode/xml"],(function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)}));